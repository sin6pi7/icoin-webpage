<div class="container center-auto">
    <h1 class="section-title">Galeria</h1>

    <div class="row">
      <div class="gallery col-md-12">
        <ul class="gallery-images clearfix">
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/agh.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/agh.jpg')"></span>
            </div>
          </li>
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/d17-bright.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/d17-bright.jpg')"></span>
            </div>
          </li>
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/sala.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/sala.jpg')"></span>
            </div>
          </li>
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/d17.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/d17.jpg')"></span>
            </div>
          </li>
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/krakow.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/krakow.jpg')"></span>
            </div>
          </li>
          <li class="images-item col-xs-12 col-sm-6 col-md-4" data-src="images/new-york.jpg">
            <div class="images-item-inner">
              <span class="image-holder" style="background-image: url('images/new-york.jpg')"></span>
            </div>
          </li>
        </ul>
        <div class="gallery-slider hidden">
          <button class="slider-close">×</button>
          <ul class="slider-tiles">
            <li class="tiles-item"><img src="images/agh.jpg"></li>
            <li class="tiles-item"><img src="images/d17-bright.jpg"></li>
            <li class="tiles-item"><img src="images/sala.jpg"></li>
            <li class="tiles-item"><img src="images/d17.jpg"></li>
            <li class="tiles-item"><img src="images/krakow.jpg"></li>
            <li class="tiles-item"><img src="images/new-york.jpg"></li>
          </ul>
          <div class="slider-nav">
            <button class="nav-prev">❬</button>
            <button class="nav-next">❭</button>
          </div>
        </div>
      </div>
    </div>
</div>
<script>
function showPrev() {
  if (index === 0) {
    return;
  }
  $(".tiles-item.next").removeClass("next");
  $(".current")
    .removeClass("current")
    .addClass("next");
  $(".prev")
    .removeClass("prev")
    .addClass("current");
  if (index === 1) {
    $(".nav-prev").addClass("hidden");
  } else if (index === $(".images-item").length - 1) {
    $(".nav-next").removeClass("hidden");
  }
  if (index > 1) {
    $($(".tiles-item").get(index - 2)).addClass("prev");
  }
  index--;
}
function showNext() {
  if (index === $(".images-item").length - 1) {
    return;
  }
  $(".tiles-item.prev").removeClass("prev");
  $(".current")
    .removeClass("current")
    .addClass("prev");
  $(".next")
    .removeClass("next")
    .addClass("current");
  if (index === $(".images-item").length - 2) {
    $(".nav-next").addClass("hidden");
  } else if (index === 0) {
    $(".nav-prev").removeClass("hidden");
  }
  if (index < $(".images-item").length - 2) {
    $($(".tiles-item").get(index + 2)).addClass("next");
  }
  index++;
}
var index;
$(".images-item").on("click", function() {
  $(".gallery-slider").removeClass("hidden");
  index = $(this).index();
  $($(".tiles-item").get(index)).addClass("current");
  if (index === 0) {
    $(".nav-prev").addClass("hidden");
    $($(".tiles-item").get(index + 1)).addClass("next");
  } else if (index === $(".images-item").length - 1) {
    $(".nav-next").addClass("hidden");
    $($(".tiles-item").get(index - 1)).addClass("prev");
  } else {
    $($(".tiles-item").get(index + 1)).addClass("next");
    $($(".tiles-item").get(index - 1)).addClass("prev");
  }
  $(".nav-prev").on("click", showPrev);
  $(".nav-next").on("click", showNext);
  $(window).on("swipeleft", showNext);
  $(window).on("swiperight", showPrev);
});
$(".slider-close").on("click", function() {
  $(".gallery-slider").addClass("hidden");
  $(".nav-prev, .nav-next").removeClass("hidden");
  $(".tiles-item.current").removeClass("current");
  $(".tiles-item.prev").removeClass("prev");
  $(".tiles-item.next").removeClass("next");
  $(".nav-prev").off("click", showPrev);
  $(".nav-next").off("click", showNext);
  $(window).off("swipeleft", showNext);
  $(window).off("swiperight", showPrev);
});
</script>
